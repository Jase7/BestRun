<div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="account-data-tab">

    <div class="form-group row mt-5 justify-content-center"> 
        <label for="name" class="col-sm-1">Nombre</label>
        <div class="col-sm-5">       
            <input type="text" id="name" class="form-control mx-sm-3" readonly value="{{user.name}}">    
        </div>

        <label for="surnames" class="col-sm-1">Apellidos</label>
        <div class="col-sm-5">
            <input type="text" id="surnames" readonly class="form-control mx-sm-3" value="{{user.surnames}}">
        </div>
    </div>

    <!--PHOTO-->
    <div class="row form-group justify-content-center mt-5">
            <div class="hovereffect" (click)="file.click()">
                <img class="img-responsive" src="{{user.photo}}" id="photo" alt="" #InputPhoto>
                    <div class="overlay">
                        <p>Cambiar imagen</p>
                        <input type="file" (change)="readImage($event);" hidden #file>
                    </div>
            </div>
        </div>

    <div class="row justify-content-end mt-3 mb-5">        
            <div class="btn btn-outline-primary" role="button" aria-pressed="true" (click)="cambiarImagen(user.photo)">Cambiar imagen</div>
    </div>

    <!--EMAIL-->
    <form [formGroup]="emailForm">
        <div class="form-group row mt-3 justify-content-center">        
            <label for="email" class="col-sm-2 col-form-label">Email</label>
            <div class="col-sm-10">
                <input type="email" formControlName="email" id="email" class="form-control mx-sm-3"
                [class.is-invalid]="!emailForm.controls['email'].valid && (!emailForm.controls['email'].pristine)"
                [class.is-valid]="emailForm.controls['email'].valid && (!emailForm.controls['email'].pristine)" value="{{user.email}}">
            </div>        
        </div>

        <div class="form-group row mt-3 justify-content-center">        
            <label for="email" class="col-sm-2 col-form-label">Confirmar email</label>
            <div class="col-sm-10">
                <input type="email" id="email" formControlName="emailConfirm" class="form-control mx-sm-3" placeholder="Confirma la dirección de correo electrónico que quieres"
                [class.is-invalid]="emailForm.controls['email'].value != emailForm.controls['emailConfirm'].value || (!emailForm.controls['emailConfirm'].valid && (!emailForm.controls['email'].pristine))"
                [class.is-valid]="emailForm.controls['emailConfirm'].valid && (!emailForm.controls['email'].pristine) && emailForm.controls['email'].value == emailForm.controls['emailConfirm'].value">
            </div>        
        </div>

        <div class="row justify-content-end mt-3 mb-5">        
            <button type="submit" class="btn btn-outline-primary" role="button" aria-pressed="true" (click)="setNewEmail(emailForm.controls['emailConfirm'].value)" [disabled]="!emailForm.valid" #EmailSubmit>Cambiar email</button>
        </div>
    </form>
    
    <!--PASSWORD-->
    <form [formGroup]="passwordForm">
        <div class="form-group row mt-3 justify-content-center">        
            <label for="password" class="col-sm-3 col-form-label">Antigua contraseña</label>
            <div class="input-group col-sm-9">
                <input type="password" id="password" class="form-control" #InputOldPassword placeholder="Escribe tu contraseña actual"
                formControlName="oldpassword"
                       [class.is-invalid]="!passwordForm.controls['oldpassword'].valid && (!passwordForm.controls['oldpassword'].pristine)"
                       [class.is-valid]="passwordForm.controls['oldpassword'].valid && (!passwordForm.controls['oldpassword'].pristine)">
                <div class="input-group-append">
                    <span class="input-group-text form-control icon" (click)="seePassword(InputOldPassword)"><fa-icon [icon]="faEye"></fa-icon></span>
                </div>
            </div>        
        </div>

        <div class="form-group row mt-3 justify-content-center">        
            <label for="confirmPassword" class="col-sm-3 col-form-label">Nueva contraseña</label>
            <div class="input-group col-sm-9">
                <input type="password" id="confirmPassword" class="form-control" #InputConfirmPassword placeholder="Escribe la contraseña que quieres"
                formControlName="newpassword"
                       [class.is-invalid]="!passwordForm.controls['newpassword'].valid && (!passwordForm.controls['newpassword'].pristine)"
                       [class.is-valid]="passwordForm.controls['newpassword'].valid && (!passwordForm.controls['newpassword'].pristine)">
                <div class="input-group-append">
                    <span class="input-group-text form-control icon" (click)="seePassword(InputConfirmPassword)"><fa-icon [icon]="faEye"></fa-icon></span>
                </div>
            </div>        
        </div>
        
        <div class="form-group row mt-3 justify-content-center">        
            <label for="confirmPassword" class="col-sm-3 col-form-label">Confirmar contraseña</label>
            <div class="input-group col-sm-9">
                <input type="password" id="confirmPassword" class="form-control" #InputConfirmPassword2 placeholder="Confirma la contraseña que quieres"
                formControlName="newpasswordconfirm"
                       [class.is-invalid]="(passwordForm.controls['newpasswordconfirm'].value != passwordForm.controls['newpassword'].value) || ((!passwordForm.controls['newpasswordconfirm'].valid) && (!passwordForm.controls['newpasswordconfirm'].pristine))"
                       [class.is-valid]="passwordForm.controls['newpasswordconfirm'].valid && (!passwordForm.controls['newpasswordconfirm'].pristine) && passwordForm.controls['newpasswordconfirm'].value == passwordForm.controls['newpassword'].value">
                <div class="input-group-append">
                    <span class="input-group-text form-control icon" (click)="seePassword(InputConfirmPassword2)"><fa-icon  [icon]="faEye"></fa-icon></span>
                </div>
            </div>        
        </div>
        
        <div class="row justify-content-end mt-5 mb-5">        
            <button type="submit" class="btn btn-outline-primary" role="button" aria-pressed="true" (click)="setNewPassword(InputOldPassword.value, InputConfirmPassword.value)" [disabled]=!passwordForm.valid>Cambiar contraseña</button>
        </div>
    </form> 
    
</div>